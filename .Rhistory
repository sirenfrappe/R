1+1
demo()
install.packages("ggplot2")
#文件路径
path <- "D:/idps/script/output/UniID/"
fileNames <- dir(path)
filePath <- sapply(fileNames, function(x) {
paste(path, x, sep = '/')
})
data <- lapply(filePath, function(x) {
read.table(x, header = T)
})
data <- lapply(filePath, function(x) {
read.table(x, header = T,sep = "\t")
})
data <- lapply(filePath, function(x) {
read.table(x, header = T,sep = "\t",stringsAsFactors = FALSE)
})
data <- lapply(filePath, function(x) {
read.table(x, header = T,sep = "\t",stringsAsFactors = FALSE,quote=NULL)
})
head(data)
a <- ("1st","2nd","3rd","4th")
a <- ("1st","3rd","4th")
a <- c("1st","2nd","3rd","4th")
a
a <- matrix(nrow = 5,ncol = 4)
a
View(a)
x[is.na(x)] <- ""
a[is.na(a)] <- ""
a
View(a)
name <- c("type","eleno","elety","alt","resno","insert","x","y","z","o","b","segid","elesy","charge","pocket"
)
name
a <- matrix("",nrow = 6,ncol = 15)
a
colnames(a) <- name
a
colnames(a)
colnames(a[,1:14])
class(colnames(a[,1:14]))
colnames(a)[1:15]
class(colnames(a)[1:15])
path <- "D:/idps/script/output/UniID/"
fileNames <- dir(path)
filePath <- sapply(fileNames, function(x) {
paste(path, x, sep = '/')
})
filePath
a <- read.table("D:/idps/script/output/UniID//1A01_HUMAN.txt",sep = "\t",stringsAsFactors = FALSE,quote = NULL)
dim(a)
a <- read.table("D:/idps/script/output/UniID//1A01_HUMAN.txt",sep = "\t",stringsAsFactors = FALSE,quote = NULL,rownames =TRUE)
a <- read.table("D:/idps/script/output/UniID//1A01_HUMAN.txt",sep = "\t",stringsAsFactors = FALSE,quote = NULL,colnames =TRUE)
head(a)
a <- read.table("D:/idps/script/output/UniID//1A01_HUMAN.txt",sep = "\t",stringsAsFactors = FALSE,header = T)
head(a)
a <- subset(a$RelatedDisease !=0)
a <- subset(a,a$RelatedDisease !=0)
a
dim(data)
data
#设置工作目录
setwd("D:/idps/script")
#新建dataframe
data <- data.frame("diease" =character(),"proID"=character(),"PTMtype"=character(),stringsAsFactors=FALSE)
dim(data)
filePath
read.table(filePath,sep="\t")
mulu <- "D:/idps/script/output/UniID//1A03_HUMAN.txt"
func <- function(lujing){
a <- read.table(lujing,sep = "\t",stringsAsFactors = FALSE,header = T)
a <- subset(a,a$RelatedDisease !=0)
}
func(mulu)
a
mulu <- "D:/idps/script/output/UniID//1A03_HUMAN.txt"
a <- read.table(mulu,sep = "\t",stringsAsFactors = FALSE,header = T)
a <- subset(a,a$RelatedDisease !=0)
a
mulu <- "D:/idps/script/output/UniID//1B07_HUMAN.txt"
a <- read.table(mulu,sep = "\t",stringsAsFactors = FALSE,header = T)
a <- subset(a,a$RelatedDisease !=0)
a
b <- "Anti-thyroid drug induced agranulocytosis:drug-induced agranulocytosis, response to anti-thyroid drug "
strsplit(",")
strsplit(b,",")
strsplit(b,",")[[1]]
strsplit(b,",")[[1]][1]
length(strsplit(b,",")[[1]])
dim(a)
a[1,]$RelatedDisease
class(a[1,]$RelatedDisease)
read.table("clipborad",header = T)
PTM type	Number of PTM sites	Number of SAPs	Distribution of traits or diseases
Phosphorylation	213	156	Immature fraction of reticulocytes (16 PTM sites)
Coronary artery disease (14 PTM sites)
High light scatter reticulocyte count (14 PTM sites)
Intraocular pressure (10 PTM sites)
GIP levels in response to oral glucose tolerance test (120 minutes) (9 PTM sites)
High light scatter reticulocyte percentage of red cells (9 PTM sites)
Mean corpuscular volume (9 PTM sites)
Blood protein levels (8 PTM sites)
Mean platelet volume (8 PTM sites)
Body mass index (7 PTM sites)
Fibrinogen levels (7 PTM sites)
Platelet count (7 PTM sites)
Acetylation	47	41	Fibrinogen levels (6 PTM sites)
Alcohol dependence (5 PTM sites)
Behavioural disinhibition (generation interaction) (5 PTM sites)
Cholesterol, total (5 PTM sites)
HDL cholesterol (5 PTM sites)
Height (5 PTM sites)
Hematocrit (5 PTM sites)
C-reactive protein (4 PTM sites)
C-reactive protein levels (4 PTM sites)
C-reactive protein levels or HDL-cholesterol levels (pleiotropy) (4 PTM sites)
C-reactive protein levels or LDL-cholesterol levels (pleiotropy) (4 PTM sites)
C-reactive protein levels or total cholesterol levels (pleiotropy) (4 PTM sites)
Granulocyte count (4 PTM sites)
Myeloid white cell count (4 PTM sites)
Neutrophil count (4 PTM sites)
Neutrophil percentage of white cells (4 PTM sites)
Sum basophil neutrophil counts (4 PTM sites)
Sum neutrophil eosinophil counts (4 PTM sites)
Ubiquitination	44	67	Inflammatory bowel disease (5 PTM sites)
Pneumonia (5 PTM sites)
Schizophrenia (5 PTM sites)
Autism spectrum disorder or schizophrenia (4 PTM sites)
Alzheimer's disease (cognitive decline) (3 PTM sites)
Ulcerative colitis (3 PTM sites)
Alzheimer's disease (late onset) (2 PTM sites)
Crohn's disease (2 PTM sites)
Epstein-Barr virus copy number in lymphoblastoid cell lines (2 PTM sites)
Height (2 PTM sites)
IgG glycosylation (2 PTM sites)
Intelligence (MTAG) (2 PTM sites)
N-linked glycosylation	19	18	Blood protein levels (5 PTM sites)
Alcohol consumption (transferrin glycosylation) (1 PTM sites)
Asparaginase hypersensitivity in acute lymphoblastic leukemia (1 PTM sites)
Creutzfeldt-Jakob disease (1 PTM sites)
Hematocrit (1 PTM sites)
Intraocular pressure (2 PTM sites)
Major depressive disorder (1 PTM sites)
Mean corpuscular hemoglobin concentration (1 PTM sites)
Mean corpuscular volume (1 PTM sites)
Multiple sclerosis (1 PTM sites)
Prion diseases (1 PTM sites)
Severe malaria (1 PTM sites)
Sex hormone-binding globulin levels (1 PTM sites)
Systemic lupus erythematosus or rheumatoid arthritis (1 PTM sites)
Testosterone levels (1 PTM sites)
Total cholesterol levels in HDL (1 PTM sites)
Urinary albumin-to-creatinine ratio (1 PTM sites)
O-linked glycosylation	11	8	B-type natriuretic peptide to N-terminal pro B-type natriuretic peptide ratio (5 PTM sites)
N-terminal pro B-type natriuretic peptide levels (5 PTM sites)
Blood protein levels (2 PTM sites)
Lymphocyte counts (2 PTM sites)
Alzheimer's disease (late onset) (1 PTM sites)
Cardiovascular risk factors (1 PTM sites)
Cholesterol, total (1 PTM sites)
Coronary artery disease (1 PTM sites)
Coronary artery disease (myocardial infarction, percutaneous transluminal coronary angioplasty, coronary artery bypass grafting, angina or chromic ischemic heart disease) (1 PTM sites)
HDL cholesterol (1 PTM sites)
High light scatter reticulocyte count (1 PTM sites)
High light scatter reticulocyte percentage of red cells (1 PTM sites)
Ideal cardiovascular health (clinical and behavioural) (1 PTM sites)
Immature fraction of reticulocytes (1 PTM sites)
LDL cholesterol (1 PTM sites)
LDL cholesterol levels (1 PTM sites)
Lipid metabolism phenotypes (1 PTM sites)
Lipid traits (1 PTM sites)
Lipoprotein (a) levels (1 PTM sites)
Lipoprotein phospholipase A2 activity in cardiovascular disease (1 PTM sites)
Lipoprotein(a) levels adjusted for apolipoprotein(a) isoforms (1 PTM sites)
Lipoprotein-associated phospholipase A2 activity change in response to darapladib treatment in cardiovascular disease (1 PTM sites)
Low density lipoprotein cholesterol (1 PTM sites)
Metabolite levels (lipoprotein measures) (1 PTM sites)
Pulse pressure (1 PTM sites)
Red cell distribution width (1 PTM sites)
Response to statins (LDL cholesterol change) (1 PTM sites)
Reticulocyte count (1 PTM sites)
Reticulocyte fraction of red cells (1 PTM sites)
Total cholesterol levels (1 PTM sites)
S-nitrosylation	5	3	Alcohol consumption (transferrin glycosylation) (2 PTM sites)
Chronic obstructive pulmonary disease (2 PTM sites)
Mean corpuscular hemoglobin (1 PTM sites)
Mean corpuscular hemoglobin concentration (1 PTM sites)
Mean corpuscular volume (1 PTM sites)
Red cell distribution width (1 PTM sites)
Methylation	4	5	Idiopathic intracranial hypertension (2 PTM sites)
Alanine aminotransferase (ALT) levels after remission induction therapy lymphoblastic leukemia (ALL) (1 PTM sites)
Anti-thyroid drug induced agranulocytosis (1 PTM sites)
Crotonylation	4	3	Height (4 PTM sites)
Malonylation	1	2	High light scatter reticulocyte count (1 PTM sites)
High light scatter reticulocyte percentage of red cells (1 PTM sites)
Immature fraction of reticulocytes (1 PTM sites)
Citrullination	1	2	Blood protein levels (1 PTM sites)
Sumoylation	1	1	Asparaginase-induced acute pancreatitis in acute lymphoblastic leukemia (onset time) (1 PTM sites)
read.table("clipborad",header = T)
a[i,]$RelatedDisease)
a[1,]$RelatedDisease)
a[i,]$RelatedDisease
a[1,]$RelatedDisease
mulu <- "D:/idps/script/output/UniID/1B07_HUMAN.txt"
strsplit(mulu,"/")
strsplit(mulu,"/")[-1]
strsplit(mulu,"/")[[1]][-1]
tail.matrix(strsplit(mulu,"/")[[1]])
tail("aaaaaaab")
tail("aaaaaaab",1)
help("tail")
tail("anvjiddp.",2)
strsplit
strsplit(strsplit(mulu,"/")[[1]][6])[[1]][1]
strsplit(strsplit(mulu,"/")[[1]][6],".")[[1]][1]
strsplit(mulu,"/")[[1]][6]
strsplit(strsplit(mulu,"/")[[1]][6],".")
strsplit(strsplit(mulu,"/")[[1]][6],"txt")
strsplit(strsplit(mulu,"/")[[1]][6],".txt")
strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]]
strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]][1]
class(strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1])
class(strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]))
class(strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]] )
a
strsplit(a[i,]$RelatedDisease)[[1]]
strsplit(a[1,]$RelatedDisease)[[1]]
strsplit(a[1,]$RelatedDisease,",")[[1]]
#设置工作目录
setwd("D:/idps/script")
#新建dataframe,存储疾病名称，蛋白ID和该疾病位点对应PTM类型
data <- data.frame("diease" =character(),"proID"=character(),"PTMtype"=character(),stringsAsFactors=FALSE)
path <- "D:/idps/script/output/UniID/"
fileNames <- dir(path)
filePath <- sapply(fileNames, function(x) {
paste(path, x, sep = '/')
})
func <- function(mulu,data){
a <- read.table(mulu,sep = "\t",stringsAsFactors = FALSE,header = T)
a <- subset(a,a$RelatedDisease !=0)
for (i in 1:dim(a)[1]) {
if(length(strsplit(a[i,]$RelatedDisease))==1){
data[dim(data)+1,1] <- a[i,]$RelatedDisease
data[dim(data),2] <- strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]]
data[dim(data),3] <- a[i,3]
}else{
num <- length(strsplit(a[i,]$RelatedDisease))
for (j in 1:num) {
data[dim(data)+1,1] <- strsplit(a[1,]$RelatedDisease,",")[[1]][j]
data[dim(data),2] <- strsplit(strsplit(mulu,"/")[[1]][6],".txt")[[1]]
data[dim(data),3] <- a[i,3]
}
}
}
}
func(filePath,data)
for (i in 1:length(filePath)) {
func(filePath[i],data)
}
func <- function(mulu, data) {
a <- read.table(mulu,
sep = "\t",
stringsAsFactors = FALSE,
header = T)
a <- subset(a, a$RelatedDisease != 0)
for (i in 1:dim(a)[1]) {
if (length(strsplit(a[i, ]$RelatedDisease)) == 1) {
data[dim(data) + 1, 1] <- a[i, ]$RelatedDisease
data[dim(data), 2] <-
strsplit(strsplit(mulu, "/")[[1]][6], ".txt")[[1]]
data[dim(data), 3] <- a[i, 3]
} else{
num <- length(strsplit(a[i, ]$RelatedDisease))
for (j in 1:num) {
data[dim(data) + 1, 1] <- strsplit(a[1, ]$RelatedDisease, ",")[[1]][j]
data[dim(data), 2] <-
strsplit(strsplit(mulu, "/")[[1]][6], ".txt")[[1]]
data[dim(data), 3] <- a[i, 3]
}
}
}
}
for (i in 1:length(filePath)) {
func(filePath[i], data)
}
